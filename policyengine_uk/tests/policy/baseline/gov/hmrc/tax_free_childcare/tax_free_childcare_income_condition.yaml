# Tests for age under 18 bracket (threshold: £1,331 quarterly)
- name: Under threshold for age 15 with low income and no other income sources - ineligible
  period: 2025
  input:
    age: 15
    total_income: 5_000  
    private_pension_income: 0
    savings_interest_income: 500
    dividend_income: 0
    property_income: 0
  output:
    tax_free_childcare_meets_income_requirements: false

# Tests for age 18-20 bracket (threshold: £1,788 quarterly)
- name: Under threshold for age 19 - ineligible
  period: 2025
  input:
    age: 19
    total_income: 7_000  # £1,750 quarterly
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
  output:
    tax_free_childcare_meets_income_requirements: false

- name: At threshold for age 18 - eligible
  period: 2025
  input:
    age: 18
    total_income: 4_152  
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
  output:
    tax_free_childcare_meets_income_requirements: false

# Tests for age 21+ bracket (threshold: £2,379 quarterly)
- name: Under threshold for age 22 - ineligible
  period: 2025
  input:
    age: 22
    total_income: 9_000  
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
  output:
    tax_free_childcare_meets_income_requirements: false

- name: age 18 - eligible
  period: 2025
  input:
    age: 18
    total_income: 9_516  
    private_pension_income: 0
    savings_interest_income: 0
    dividend_income: 0
    property_income: 0
  output:
    tax_free_childcare_meets_income_requirements: true

# Tests with investment income
- name: Above threshold but with investment income making eligible income below threshold - ineligible
  period: 2025
  input:
    age: 22
    total_income: 12_000
    private_pension_income: 3_000
    savings_interest_income: 500
    dividend_income: 1_000
    property_income: 500
    # Net eligible income: 7000 (£1,750 quarterly)
  output:
    tax_free_childcare_meets_income_requirements: false


# Test age boundary cases
- name: over 100k
  period: 2025
  input:
    age: 18
    total_income: 217_152  
    adjusted_net_income: 217_152
    private_pension_income: 0
    savings_interest_income: 100
    dividend_income: 0
    property_income: 0
  output:
    tax_free_childcare_meets_income_requirements: false
